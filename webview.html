<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>




    
    
<html>
  <head>
    <title>Messenger Demo</title>
  </head>
  <body>
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId: '1920147658217402',
          xfbml: true,
          version: 'v2.6'
        });
        

        
        /** FB.getLoginStatus(function(responser) {
          
        FB.api(
  '/me',
  'GET',
  { accessToken: responser.accessToken },
  function(response) {
    debugger;
  }
);
        });**/
      };
      
        window.extAsyncInit = function() {
    // the Messenger Extensions JS SDK is done loading 
    
        MessengerExtensions.getUserID(function success(uids) {
  	// User ID was successfully obtained.
     $("div.test").html('can probably do something with this id on the server to match it up: ' + JSON.stringify(uids)); 
   // console.log(uids);
     // 	var psid = uids.psid;
  
    }, function error(err) { 
      console.log(err);     
      $("div.test").html(err);
  	// Error handling code
    });  
    
  };
                   (function(d, s, id){
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'Messenger'));

/**      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
   */    
       
  

       function test() {
                  MessengerExtensions.requestCloseBrowser(function success() {
  
      }, function error(err) {
  
      });
       }
    </script>

    <h1>Messenger Demo</h1>
    <button onclick="test()">close</button>
    <div class="test"></div>

  </body>
</html>